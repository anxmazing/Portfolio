<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Ustad Ameer Ali Khan, The Evolution of the Talwandi-Kapurthala Gharana and
      the Dwindling Popularity of Do-Aba Qavvali
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Movie1</title>

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon" />
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link
      href="../../assets/vendor/bootstrap/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="../../assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="../../assets/vendor/aos/aos.css" rel="stylesheet" />
    <link
      href="../../assets/vendor/glightbox/css/glightbox.min.css"
      rel="stylesheet"
    />
    <link
      href="../../assets/vendor/swiper/swiper-bundle.min.css"
      rel="stylesheet"
    />

    <!-- Main CSS File -->
    <link href="../../assets/css/main.css" rel="stylesheet" />
    <style>
      body {
        margin: 0;

        font-family: Arial, sans-serif;
      }
      .containnerbg {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      #pdf-container {
        margin-top: 20px;
        margin-bottom: 20px;
        text-align: center;
        max-width: 800px;
        border: 0px solid #000000;
        padding: 20px;
        background-color: #fff;
      }
      #pdf-render {
        max-width: 100%;
        border: 1px solid #000;
        margin: 20px 0;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      }
      .link-section {
        margin-bottom: 20px;
      }
      .link-list {
        list-style-type: none;
        padding: 0;
        text-align: left;
      }
      .link-list li {
        margin-bottom: 5px;
        padding: 5px;
        background-color: #f9f9f9;
        color: #000;
        font-family: "Times New Roman", Times, serif;
        border: 1px solid #ccc;
        text-align: center;
        border-radius: 4px;
        transition: background-color 0.3s ease;

        /* Ensure text stays within the element */
        overflow: hidden; /* Hides any content that overflows */
        white-space: nowrap; /* Prevents text from wrapping */
        text-overflow: ellipsis; /* Shows an ellipsis (...) when text overflows */
      }

      .link-list li:hover {
        background-color: #e0e0e0;
      }
      .navigation-buttons {
        margin-top: 10px;
      }
      .navigation-buttons button {
        margin-bottom: 20px;
        padding: 8px 16px;
        background-color: #000000;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .navigation-buttons button:hover {
        background-color: #909395;
      }
      .page-info {
        font-size: 14px;
      }
      .footerx {
        padding: 21px;
      }
      .texxt {
        font-size: 16px;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",
          sans-serif;
        line-height: 1.2;
        color: #495057;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  </head>
  <body>
    <header id="header" class="header d-flex align-items-center sticky-top">
      <div
        class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between"
      >
        <a href="../../index.html" class="logo d-flex align-items-center">
          <!-- Uncomment the line below if you also wish to use an image logo -->
          <!-- <img src="assets/img/logo.png" alt=""> -->
          <h1 class="sitename">DevFolio</h1>
        </a>

        <nav id="navmenu" class="navmenu">
          <ul>
            <li>
              <a href="../../index.html" class="">Home<br /></a>
            </li>
          </ul>
          <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
        </nav>
      </div>
    </header>
    <div class="containnerbg">
      <div id="pdf-container">
        <h1
          style="font-family: 'Times New Roman', Times, serif; font-size: 30px;font-weight:bold"
        >
          Ustad Ameer Ali Khan, The Evolution of the <br>Talwandi-Kapurthala Gharana
          and the Dwindling Popularity of Do-Aba Qavvali
        </h1>
        <canvas id="pdf-render"></canvas>
        <div class="link-section">
          <h2 style="font-family: 'Times New Roman', Times, serif">
            References:
          </h2>
          <ul id="link-list" class="link-list"></ul>
        </div>
        <div class="navigation-buttons">
          <button id="prev-page">Previous Page</button>
          <button id="next-page">Next Page</button>
          <div class="page-info">
            Page: <span id="page-num"></span> / <span id="page-count"></span>
          </div>
        </div>
      </div>
    </div>
    <script>
      const url = "./article1.pdf";

      let pdfDoc = null,
        pageNum = 1,
        pageIsRendering = false,
        pageNumIsPending = null;

      const scale = 1.5,
        canvas = document.getElementById("pdf-render"),
        ctx = canvas.getContext("2d");

      // Render the page
      const renderPage = (num) => {
        pageIsRendering = true;

        // Get the page
        pdfDoc.getPage(num).then((page) => {
          const viewport = page.getViewport({ scale });
          canvas.height = viewport.height;
          canvas.width = viewport.width;

          const renderCtx = {
            canvasContext: ctx,
            viewport,
          };

          const renderTask = page.render(renderCtx);

          renderTask.promise.then(() => {
            pageIsRendering = false;

            if (pageNumIsPending !== null) {
              renderPage(pageNumIsPending);
              pageNumIsPending = null;
            }
          });

          // Extract links
          extractLinks(page);
        });

        // Output current page
        document.getElementById("page-num").textContent = num;
      };

      // Extract links from the page
      const extractLinks = (page) => {
        page
          .getAnnotations()
          .then((annotations) => {
            const linkList = document.getElementById("link-list");
            linkList.innerHTML = "";

            annotations.forEach((annotation) => {
              if (annotation.subtype === "Link" && annotation.url) {
                const linkItem = document.createElement("li");
                const linkAnchor = document.createElement("a");
                linkAnchor.href = annotation.url;
                linkAnchor.textContent = annotation.url;
                linkAnchor.target = "_blank"; // Open link in new tab
                linkAnchor.style.textDecoration = "none";
                linkAnchor.style.color = "#007bff";
                linkAnchor.style.fontWeight = "bold";
                linkItem.appendChild(linkAnchor);
                linkList.appendChild(linkItem);
              }
            });
          })
          .catch((err) => {
            console.error("Error while extracting links:", err);
          });
      };

      // Check for pages rendering
      const queueRenderPage = (num) => {
        if (pageIsRendering) {
          pageNumIsPending = num;
        } else {
          renderPage(num);
        }
      };

      // Show Prev Page
      const showPrevPage = () => {
        if (pageNum <= 1) {
          return;
        }
        pageNum--;
        queueRenderPage(pageNum);
      };

      // Show Next Page
      const showNextPage = () => {
        if (pageNum >= pdfDoc.numPages) {
          return;
        }
        pageNum++;
        queueRenderPage(pageNum);
      };

      // Get Document
      pdfjsLib.getDocument(url).promise.then((pdfDoc_) => {
        pdfDoc = pdfDoc_;
        document.getElementById("page-count").textContent = pdfDoc.numPages;

        renderPage(pageNum);
      });

      // Button Events
      document
        .getElementById("prev-page")
        .addEventListener("click", showPrevPage);
      document
        .getElementById("next-page")
        .addEventListener("click", showNextPage);
    </script>
    <script src="../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../../assets/vendor/php-email-form/validate.js"></script>
    <script src="../../assets/vendor/aos/aos.js"></script>
    <script src="../../assets/vendor/typed.js/typed.umd.js"></script>
    <script src="../../assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="../../assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="../../assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="../../assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
    <script src="../../assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="../../assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="../../assets/js/main.js"></script>
  </body>
  <footer id="footer" class="footer footerx">
    <div class="container">
      <div class="copyright text-center">
        <p>
          © <span>Copyright</span>
          <strong class="px-1 sitename">DevFolio</strong>
          <span>All Rights Reserved</span>
        </p>
      </div>
      <div class="social-links d-flex justify-content-center">
        <a href="https://www.youtube.com/@saazoanasir" target="_blank">
          <i class="bi bi-youtube"></i>
        </a>
        <a href=""><i class="bi bi-facebook"></i></a>
        <a href=""><i class="bi bi-instagram"></i></a>
        <a href=""><i class="bi bi-linkedin"></i></a>
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer>
</html>
